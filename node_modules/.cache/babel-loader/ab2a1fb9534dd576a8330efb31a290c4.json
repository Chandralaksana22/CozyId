{"ast":null,"code":"\"use strict\";\n\nvar _typeof = require(\"/media/chandra/Panglima Tempur/Data Pribadi/CozyId/node_modules/@babel/runtime/helpers/typeof.js\").default;\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar apollo_utilities_1 = require(\"apollo-utilities\");\n\nfunction graphql(resolver, document, rootValue, contextValue, variableValues, execOptions) {\n  if (variableValues === void 0) {\n    variableValues = {};\n  }\n\n  if (execOptions === void 0) {\n    execOptions = {};\n  }\n\n  var mainDefinition = apollo_utilities_1.getMainDefinition(document);\n  var fragments = apollo_utilities_1.getFragmentDefinitions(document);\n  var fragmentMap = apollo_utilities_1.createFragmentMap(fragments);\n  var resultMapper = execOptions.resultMapper;\n\n  var fragmentMatcher = execOptions.fragmentMatcher || function () {\n    return true;\n  };\n\n  var execContext = {\n    fragmentMap: fragmentMap,\n    contextValue: contextValue,\n    variableValues: variableValues,\n    resultMapper: resultMapper,\n    resolver: resolver,\n    fragmentMatcher: fragmentMatcher\n  };\n  return executeSelectionSet(mainDefinition.selectionSet, rootValue, execContext);\n}\n\nexports.graphql = graphql;\n\nfunction executeSelectionSet(selectionSet, rootValue, execContext) {\n  var fragmentMap = execContext.fragmentMap,\n      contextValue = execContext.contextValue,\n      variables = execContext.variableValues;\n  var result = {};\n  selectionSet.selections.forEach(function (selection) {\n    if (variables && !apollo_utilities_1.shouldInclude(selection, variables)) {\n      return;\n    }\n\n    if (apollo_utilities_1.isField(selection)) {\n      var fieldResult = executeField(selection, rootValue, execContext);\n      var resultFieldKey = apollo_utilities_1.resultKeyNameFromField(selection);\n\n      if (fieldResult !== undefined) {\n        if (result[resultFieldKey] === undefined) {\n          result[resultFieldKey] = fieldResult;\n        } else {\n          merge(result[resultFieldKey], fieldResult);\n        }\n      }\n    } else {\n      var fragment = void 0;\n\n      if (apollo_utilities_1.isInlineFragment(selection)) {\n        fragment = selection;\n      } else {\n        fragment = fragmentMap[selection.name.value];\n\n        if (!fragment) {\n          throw new Error(\"No fragment named \" + selection.name.value);\n        }\n      }\n\n      var typeCondition = fragment.typeCondition.name.value;\n\n      if (execContext.fragmentMatcher(rootValue, typeCondition, contextValue)) {\n        var fragmentResult = executeSelectionSet(fragment.selectionSet, rootValue, execContext);\n        merge(result, fragmentResult);\n      }\n    }\n  });\n\n  if (execContext.resultMapper) {\n    return execContext.resultMapper(result, rootValue);\n  }\n\n  return result;\n}\n\nfunction executeField(field, rootValue, execContext) {\n  var variables = execContext.variableValues,\n      contextValue = execContext.contextValue,\n      resolver = execContext.resolver;\n  var fieldName = field.name.value;\n  var args = apollo_utilities_1.argumentsObjectFromField(field, variables);\n  var info = {\n    isLeaf: !field.selectionSet,\n    resultKey: apollo_utilities_1.resultKeyNameFromField(field),\n    directives: apollo_utilities_1.getDirectiveInfoFromField(field, variables),\n    field: field\n  };\n  var result = resolver(fieldName, rootValue, args, contextValue, info);\n\n  if (!field.selectionSet) {\n    return result;\n  }\n\n  if (result == null) {\n    return result;\n  }\n\n  if (Array.isArray(result)) {\n    return executeSubSelectedArray(field, result, execContext);\n  }\n\n  return executeSelectionSet(field.selectionSet, result, execContext);\n}\n\nfunction executeSubSelectedArray(field, result, execContext) {\n  return result.map(function (item) {\n    if (item === null) {\n      return null;\n    }\n\n    if (Array.isArray(item)) {\n      return executeSubSelectedArray(field, item, execContext);\n    }\n\n    return executeSelectionSet(field.selectionSet, item, execContext);\n  });\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction merge(dest, src) {\n  if (src !== null && _typeof(src) === 'object') {\n    Object.keys(src).forEach(function (key) {\n      var srcVal = src[key];\n\n      if (!hasOwn.call(dest, key)) {\n        dest[key] = srcVal;\n      } else {\n        merge(dest[key], srcVal);\n      }\n    });\n  }\n}\n\nexports.merge = merge;","map":{"version":3,"mappings":"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","names":["graphql","resolver","document","rootValue","contextValue","variableValues","execOptions","mainDefinition","apollo_utilities_1","fragments","fragmentMap","resultMapper","fragmentMatcher","execContext","executeSelectionSet","selectionSet","exports","variables","result","selections","forEach","selection","fieldResult","executeField","resultFieldKey","undefined","merge","fragment","name","value","Error","typeCondition","fragmentResult","field","fieldName","args","info","isLeaf","resultKey","directives","Array","isArray","executeSubSelectedArray","map","item","hasOwn","Object","prototype","hasOwnProperty","dest","src","keys","srcVal","key","call"],"sourceRoot":"","sources":["../src/graphql.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}